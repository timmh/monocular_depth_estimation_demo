(this.webpackJsonpmonocular_depth_estimation_demo=this.webpackJsonpmonocular_depth_estimation_demo||[]).push([[0],{255:function(e,t,n){var a=n(307),c=["infer"];e.exports=function(){var e=new Worker(n.p+"a2a728b694ed717cea42.worker.js",{name:"[hash].worker.js"});return a(e,c),e}},284:function(e,t,n){},286:function(e,t,n){},293:function(e,t){},294:function(e,t){},302:function(e,t){},305:function(e,t){},306:function(e,t){},308:function(e,t,n){"use strict";n.r(t);var a=n(50),c=n(39),r=n.n(c),s=n(234),i=n.n(s),o=(n(284),n(189)),u=n(4),j=n.n(u),l=n(11),b=n(6),d=(n(286),n(256)),p=n(106),h=n(255),f=function(e){var t=e.data,n=e.shape;return p.c(t,n)},O=n.n(h)()();var m=function(){var e=Object(c.useState)("cat.jpg"),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(c.useRef)(null),i=Object(c.useRef)(null),u=Object(c.useState)(!1),h=Object(b.a)(u,2),m=h[0],x=h[1],v=Object(c.useCallback)((function(){m||(x(!0),Object(l.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=p.a.fromPixels(s.current),n=[t.shape[0],t.shape[1]],t=p.b.resizeBilinear(t,[256,256]),e.t0=f,e.next=7,O.infer({data:(c=t).dataSync(),shape:c.shape});case 7:e.t1=e.sent,a=(0,e.t0)(e.t1),a=p.b.resizeBilinear(a,n),p.a.toPixels(a,i.current),x(!1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(0),alert("An unknown error occured");case 17:case"end":return e.stop()}var c}),e,null,[[0,14]])})))())}),[s,m,x]),g=Object(c.useCallback)((function(e){if(!m){var t=new FileReader;t.onload=function(){r(t.result)},t.readAsDataURL(e[0])}}),[r,m]),k=Object(d.a)({onDrop:g,accept:"image/*"}),w=k.getRootProps,D=k.getInputProps,_=k.isDragActive;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{children:["Monocular Depth Estimation using"," ",Object(a.jsx)("a",{href:"https://arxiv.org/abs/1907.01341v3",children:"MiDaS"})]}),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",Object(o.a)(Object(o.a)({className:["image-dropzone",_?"image-dropzone--highlight":"image-dropzone--default"].join(" ")},w()),{},{children:[Object(a.jsx)("h2",{children:"Choose an input image by dropping or clicking to select"}),Object(a.jsx)("input",Object(o.a)({},D())),Object(a.jsx)("img",{ref:s,alt:"",src:n})]})),Object(a.jsxs)("div",{className:"output",children:[Object(a.jsx)("h2",{children:"Generated Depth Estimation"}),Object(a.jsx)("canvas",{ref:i})]}),Object(a.jsx)("div",{className:"controls",children:Object(a.jsx)("button",{onClick:v,disabled:m,children:m?"Inferring...":"Estimate Depth"})})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[308,1,2]]]);
//# sourceMappingURL=main.642d51ef.chunk.js.map